## 获取顶层控制器

```objective-c
+ (UIViewController *)GET_TOP_CONTROLLER {
    UIViewController *rootVC = [UIApplication sharedApplication].keyWindow.rootViewController;
    UIViewController *topVC = [self traversingVC:rootVC];
    NSLog(@"topVC: %@", topVC);
    return topVC;
}


+ (UIViewController *)traversingVC:(UIViewController *)vc {
    if (vc == nil) { return nil; }
    if ([vc isKindOfClass:[UINavigationController class]])
    {
        UINavigationController *navVC = (UINavigationController *)vc;
        return [self traversingVC:navVC.topViewController];
    }
    else if([vc isKindOfClass:[UITabBarController class]])
    {
        UITabBarController *tabVC = (UITabBarController *)vc;
        return [self traversingVC:tabVC.selectedViewController];
    }
    else if([vc isKindOfClass:[UIViewController class]])
    {
        if(vc.presentedViewController)
            return [self traversingVC:vc.presentedViewController];
    }
    return vc;
}
```

