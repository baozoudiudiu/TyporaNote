## iOSåŸç”Ÿé¡¹ç›®ä¸­æ··ç¼–flutterä»£ç è°ƒè¯•æ—¶å®ç°çƒ­æ›´æ–°ï¼ˆHot Reloadï¼‰

### 1.å‰è¨€
å…³äºiOSåŸç”Ÿé¡¹ç›®å¦‚ä½•é›†æˆflutterè¯·ç§»æ­¥ï¼š[iOSåŸç”Ÿé¡¹ç›®é€šè¿‡cocoaPodsé›†æˆflutter](https://www.jianshu.com/p/f6233350566a)

å•çº¯çš„è¿è¡Œflutteré¡¹ç›®åï¼Œä¿®æ”¹çš„ä»£ç èƒ½é€šè¿‡`hot reload`ç‰¹æ€§å®æ—¶çš„æ›´æ–°åˆ°ç•Œé¢ä¸Šå»ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚iOSåŸç”Ÿé¡¹ç›®å°±æ— åŠ›åæ§½äº†ï¼Œæƒ³çœ‹æ•ˆæœå°±å¾—é‡æ–°è¿è¡Œé¡¹ç›®ï¼ˆswiftUIé™¤å¤–ï¼Œä½†æ˜¯ç°åœ¨è¿˜ä¸æ™®åŠï¼‰ã€‚

æ··ç¼–é¡¹ç›®ä¸­ï¼Œä¸»ä½“é¡¹ç›®è¿˜æ˜¯åŸç”Ÿé¡¹ç›®æ‰€ä»¥ä¿®æ”¹ä»£ç ä¹‹åè¿˜æ˜¯å¾—é‡æ–°è¿è¡Œèµ·æ¥çœ‹æ•ˆæœã€‚ä½†æ˜¯é¡¹ç›®ä¸­ç©¿æ’çš„flutteræ¨¡å—é¡µé¢æ˜¯å¦èƒ½å¤Ÿå®ç°çƒ­æ›´æ–°è°ƒè¯•å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œæ–¹æ³•è§ä¸‹æ–‡ã€‚

### 2.åŸç”Ÿé¡¹ç›®
iOS13è¿˜æ˜¯iOS14ä¹‹åéœ€è¦å¦‚ä¸‹é…ç½®ï¼Œå…·ä½“æ˜¯å“ªä¸ªç‰ˆæœ¬ä¹‹åä¸å¤ªè®°å¾—äº†ï¼Œåæ­£é…ä¸Šå°±å®Œäº‹äº†ã€‚

åœ¨`info.plist`ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œ**å³é”®Info.plist -> Open As -> Source Code**ï¼ˆä¸ªäººæ¯”è¾ƒå–œæ¬¢ä»¥è¿™ç§æ–¹å¼æ‰“å¼€info.plistï¼‰

```
<key>NSBonjourServices</key>
	<array>
		<string>_dartobservatory._tcp</string>
	</array>
<key>NSLocalNetworkUsageDescription</key>
<string>éœ€è¦è®¿é—®æœ¬åœ°ç½‘ç»œæƒé™</string>
```

*  **æ³¨æ„ï¼šå¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰æœ¬åœ°ç½‘ç»œæƒé™ç­‰ç›¸å…³ä¸šåŠ¡éœ€æ±‚ï¼Œä»…ä»…åªæ˜¯å¼€å‘æ—¶ç”¨æ¥è°ƒè¯•flutteræ¨¡å—çš„æƒ…å†µï¼Œè¯·åœ¨ä¸Šæ¶å‰åˆ æ‰ä»¥ä¸Šé…ç½®ï¼Œå¦åˆ™å®¡æ ¸ä¼šè¢«æ‹’ã€‚**
*  **å¦‚æœå«Œéº»çƒ¦ï¼Œå¯ä»¥å•ç‹¬é…ç½®ä¸€ä»½debugæ¨¡å¼ä¸‹çš„info.plistã€‚å’Œreleaseæ¨¡å¼ä¸‹info.pliståˆ†å¼€ä½¿ç”¨ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ¥å›çš„æ·»åŠ å’Œåˆ é™¤äº†ã€‚**

### 3.flutteræ¨¡å—

å¾…åŸç”Ÿé¡¹ç›®è¿è¡ŒæˆåŠŸåï¼Œæ§åˆ¶å°è¿›å…¥åˆ°flutteræ¨¡å—çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¡Œ:

```
flutter attach
```

çœ‹åˆ°ç½‘ä¸Šæœ‰å¾ˆå¤šåšæ–‡è¯´ï¼Œéœ€è¦å…ˆæ‰§è¡Œ`flutter attach`å†è¿è¡ŒåŸç”Ÿé¡¹ç›®æ‰å¯ä»¥ã€‚åæ­£æˆ‘æ— è®ºæ˜¯å…ˆè¿è¡Œå†æ‰§è¡Œå‘½ä»¤è¡Œï¼Œè¿˜æ˜¯å…ˆæ‰§è¡Œå‘½ä»¤è¡Œå†è¿è¡Œé¡¹ç›®ï¼ŒäºŒè€…éƒ½å¯ä»¥ã€‚

### 4.è¡¥å……è¯´æ˜

* æ‰§è¡Œå®Œ`flutter attach`åä¼šå‡ºç°ï¼š

  `Waiting for a connection from Flutter on xxxxx...`

  å¦‚æœä½ å‡ºç°äº†æŠ¥é”™ï¼Œä¸€èˆ¬éƒ½æ˜¯æ£€æµ‹åˆ°äº†å¤šè®¾å¤‡çš„æŠ¥é”™ï¼Œæ ¹æ®æç¤ºæŒ‡å®šä¸€ä¸ªè®¾å¤‡idå°±å¯ä»¥äº†ã€‚

* åŸç”Ÿé¡¹ç›®è¿è¡Œåï¼Œè¿›å…¥flutteré¡µé¢æ—¶ï¼Œä¼šå‡ºç°å¦‚ä¸‹logï¼š

  ```
  Syncing files to device XXXXXX...                             10.5s
  
  Flutter run key commands.
  r Hot reload. ğŸ”¥ğŸ”¥ğŸ”¥
  R Hot restart.
  h List all available interactive commands.
  d Detach (terminate "flutter run" but leave application running).
  c Clear the screen
  q Quit (terminate the application on the device).
  ```

  æˆåŠŸåï¼Œåœ¨æ§åˆ¶å°è¾“å…¥â€˜râ€™ä¸ºçƒ­æ›´æ–°ï¼Œâ€˜Râ€™ä¸ºçƒ­é‡è½½ï¼Œâ€˜qâ€™é€€å‡ºè°ƒè¯•ã€‚
