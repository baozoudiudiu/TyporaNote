```js
const app = getApp()



Page({

  data: {

​    imgPath: "./bg1.png"

  },

  onLoad() {

​    wx.createSelectorQuery()

​      .select('#myCanvas')

​      .fields({

​        node: true,

​        size: true,

​      })

​      .exec(this.init.bind(this))

  },

  init(res) {

​    const canvas = res[0].node

​    const context = canvas.getContext('2d')

​    this.data.cv = canvas

​    this.data.ctx = context

​    this.renderImg(this.data.imgPath)

​    const renderLoop = () => {

​      console.log('rederLoop')

​      if (this.data.imgPath == './bg1.png') {

​        this.data.imgPath = './bg2.png'

​      }else {

​        this.data.imgPath = './bg1.png'

​      }

​      this.renderImg(this.data.imgPath)

​      setTimeout(()=>{

​        canvas.requestAnimationFrame(renderLoop)

​      }, 2000)

​    }

​    canvas.requestAnimationFrame(renderLoop)

  },

  renderImg(*path*) {

​    const img = this.data.cv.createImage()

​    img.onload = () => {

​      this._img = img

​      this.drawImg()

​    }

​    img.src = *path*

  },

  drawImg() {

​    if (!this._img) {

​      return

​    }

​    this.data.ctx.clearRect(0, 0, 375, 724)

​    this.data.ctx.drawImage(this._img, 0, 0, 375, 724)

​    this.data.ctx.restore()

  }

})
```

